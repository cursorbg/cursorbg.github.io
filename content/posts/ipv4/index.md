+++
date = '2024-12-05T09:47:09+02:00'
draft = false
hidden = false
title = 'IPv4 или как да се ориентираме в собствената мрежа.'
tags = ['ip','mask','subnet','dns', 'dhcp']
summary = 'Основи на компютърните мрежи'
+++
<span>{{< youtube -leBpAOAdhs >}}</span>

Всеки от нас използва използва интернет вкъщи, но как да се ориентираме в гората от настройки и понятия свързани с компютърните мрежи? Тази статия е за това, да ви даде основата.

## IP адрес

Представете си IP адреса като "пощенски адрес" на устройство в интернет. Точно както пощенският адрес ви казва къде живее даден човек или компания, IP адресът показва местоположението на компютър, телефон или друг вид устройство в глобалната мрежа.

Ето как се съотнасят:

1. **Пощенски адрес**: Съдържа информация като град, улица, номер на сграда и апартамент. Това помага пощата да стигне точно до вашия дом.

   - Пример: София, ул. "Витоша" №10, ап. 5.

2. **IP адрес**: Състои се от числа и/или букви (в зависимост дали е IPv4 или IPv6). Той идентифицира точното устройство в мрежата.

   - IPv4 пример: 192.168.0.1.
   - IPv6 пример: 2001:0db8:85a3:0000:0000:8a2e:0370:7334.

Сравнение:

- **Пощенски адрес**: Помага за доставяне на писма до физическо място.
- **IP адрес**: Помага за "доставяне" на данни (например уеб страници) до правилното устройство.

Пример в действие:
Ако изпратите писмо (заявка за уеб страница) до даден уебсайт (например [www.google.bg](www.google.bg)), DNS (като "пощенска служба") превежда домейн името в IP адрес. След това "пощальонът" (интернет доставчикът) използва IP адреса, за да достави данните до вашето устройство.

Затова, както пощенският адрес осигурява правилна доставка на писма, IP адресът осигурява правилна доставка на цифрови данни.

{{< collapse summary="Дефиниция на **IP** адрес. *(натисни за да видиш)*" open=false >}}
IP адресът (Internet Protocol адрес) е уникален числов идентификатор, който се използва за идентифициране на устройства в мрежа. Той служи за насочване на данни между устройства в интернет или локални мрежи. IP адресите се разделят на два основни типа: IPv4 (32-битови, напр. 192.168.1.1) и IPv6 (128-битови, напр. 2001:0db8:85a3:0000:0000:8a2e:0370:7334), като IPv6 е създаден заради изчерпване на наличните IPv4 адреси. IP адресите могат да бъдат статични (непроменящи се) или динамични (променяни автоматично от доставчика на интернет услуги).
{{< /collapse >}}

## Subnet mask (маска)

Subnet mask (мрежова маска) е числова стойност, която определя как IP адресът е разделен на две части: мрежова част и хост част. Маската помага за идентифициране на мрежата, към която принадлежи даден IP адрес, и устройствата в нея.

Обикновено subnet mask се представя в същия формат като IP адреса (например **255.255.255.0**) и се използва за:

- **Определяне на размера на мрежата**: Посочва колко устройства (хостове) могат да бъдат адресирани в една мрежа.
- **Улесняване на маршрутизацията**: Помага на рутерите да идентифицират правилната мрежа за даден IP адрес.

Пример: За мрежа с IP адрес **192.168.1.0** и маска **255.255.255.0**, първите три октета идентифицират мрежата (192.168.1), а последният октет определя хостовете в нея.

Маската може да бъде изписана и в съкратен формат, наречен **CIDR нотация (Classless Inter-Domain Routing)**. Вместо пълната форма (например **255.255.255.0**), се използва числова стойност, която показва броя на битовете, заети от мрежовата част.

Пример:

- **255.255.255.0** се изписва като **/24**, тъй като първите 24 бита са зададени за мрежовата част.
- **255.255.0.0** е равносилно на **/16**.
- **255.0.0.0** съответства на **/8**.

Тази нотация е често използвана в съвременните мрежови конфигурации, тъй като е по-компактна и удобна за представяне.

## MAC адрес

Независимо от версията на IP протокола, всяко мрежово устройство притежава и уникален MAC адрес.

MAC адресът (Media Access Control Address) е уникален идентификатор на мрежово устройство, който се задава на мрежовата карта (NIC) при производството. Това е 48-битово число, записано в шестнадесетичен формат (например 00:1A:2B:3C:4D:5E), и се използва за адресиране на устройства в локални мрежи.

Въпреки това, че не е част от IP протокола, е важно да знаем за съществуването му.

## DHCP сървър

DHCP (Dynamic Host Configuration Protocol) сървър е мрежови компонент, който автоматично разпределя IP адреси и други мрежови настройки (като мрежова маска, шлюз, DNS сървъри) на устройствата в мрежата.

Той улеснява управлението на мрежите, като:

- Премахва необходимостта от ръчна конфигурация на IP адреси.
- Предотвратява конфликти на IP адреси, като гарантира, че всеки адрес е уникален.
- Поддържа динамично променящи се мрежи, където устройствата се свързват и изключват често.

DHCP е особено полезен в големи мрежи и осигурява лесна интеграция на нови устройства.

## DNS сървър

DNS сървър (Domain Name System сървър) е мрежова услуга, която превежда лесно запомнящи се домейн имена (като **example.com**) в IP адреси (например **192.0.2.1**), необходими за комуникация между устройства в интернет или локални мрежи.

Основни функции на DNS сървъра:

- Улеснява достъпа до уебсайтове и онлайн услуги чрез използване на имена вместо числови адреси.
- Позволява лесно управление на промените в мрежовите адреси, без да се засяга достъпът до ресурси.
- Подобрява ефективността на мрежовите запитвания чрез кеширане на често използвани записи.

DNS е съществена част от функционирането на интернет, осигурявайки бърз и удобен достъп до онлайн ресурси.

В локална мрежа (LAN) DNS сървърът изпълнява следните основни роли:

- Превод на имена в IP адреси: Позволява на потребителите и приложенията да използват лесно запомнящи се имена (като **printer.local**) вместо IP адреси за достъп до устройства и услуги в мрежата.
- Улесняване на вътрешна комуникация: Осигурява бърз и точен достъп до ресурси, като файлови сървъри, мрежови принтери или приложения, чрез използване на именувани адреси.
- Подобрена мрежова ефективност: Чрез кеширане на DNS записи, запитванията за често използвани ресурси се обработват по-бързо, което намалява времето за достъп.
- Централизирано управление на имената: Позволява на администраторите да създават и управляват локални домейн имена за устройствата и услугите в мрежата, осигурявайки по-добра организация и лесно управление.

В локална мрежа DNS сървърът е ключов за удобството и ефективността на взаимодействието между устройства и потребители.

## Видове мрежи

[![](common-network.png "{{< icon "link" >}}*фиг. 1*")](common-network.png)

LAN (Local Area Network) и WAN (Wide Area Network) са два основни типа мрежи.

LAN е локална (частна) мрежа, която свързва устройства в ограничена географска зона, като дом, офис или училище. Тя осигурява висока скорост на предаване на данни и обикновено използва кабели или Wi-Fi за връзка.

WAN е широка мрежа, която обхваща големи разстояния, свързвайки множество LAN мрежи. Интернет е най-големият пример за WAN. Тези мрежи използват телекомуникационни технологии, като сателити и оптични кабели, и често са по-бавни и скъпи за поддръжка в сравнение с LAN.

## Адресни пространства

Локалното IPv4 адресно пространство се отнася до специално резервирани IP адреси, които се използват само в частни мрежи и не са достъпни в глобалния интернет. Тези адреси се дефинират от стандарта **RFC 1918** и включват три основни диапазона:

- **10.0.0.0 – 10.255.255.255** (10.0.0.0/8)
- **172.16.0.0 – 172.31.255.255** (172.16.0.0/12)
- **192.168.0.0 – 192.168.255.255** (192.168.0.0/16)

Това пространство служи за:

- Локална комуникация между устройствата в частната мрежа.
- Намаляване на необходимостта от глобални IP адреси, като използва NAT (Network Address Translation) за достъп до интернет.
- Подобряване на сигурността, тъй като тези адреси не са видими извън локалната мрежа.

## Gateway адрес (шлюз)

Gateway (шлюз) е мрежово устройство или софтуерен компонент, който свързва различни мрежи и управлява трафика между тях. В контекста на IP мрежи, шлюзът обикновено е рутер, който свързва локалната мрежа (LAN) с външна мрежа, като интернет.

Основнa функция на Gateway е да маршрутизира трафика (препраща данни между различни мрежи).

## Настройки на мрежова карта

Един от начините да достигнем до мрежовите настройки, е през Settings -> Network & Internet -> Change adapter options.

[![](settings-network.png "{{< icon "link" >}}*фиг. 2*")](settings-network.png)

Следващата стъпка е да избрем Properties (Свойства) на мрежовата карта, която използваме. От списъка с протоколи избираме `Internet Protocol Version 4 (TCP/IPv4)`.

[![](ipv4.png "{{< icon "link" >}}*фиг. 3*")](ipv4.png)

След това в завимисимост от целта, имаме възможност за автоматично получаване на настройките (Obtain an IP address automatically и Obtain DNS server address automatically) от DHCP сървъра или за ръчна настройка. Автоматичното получаване на адреси е зададено по подразбиране, но кога се налага да използваме ръчни/статични настройки?

Използването на статични IP адреси в локална мрежа се налага, когато е необходимо определени устройства да имат фиксирани, неизменни адреси. Това е важно за:

1. **Сървъри и мрежови услуги**: Устройства като файлови сървъри, уеб сървъри, принтери или бази данни изискват статични IP адреси, за да са лесно достъпни за потребителите и приложенията.

2. **Устройства с постоянна роля в мрежата**: Шлюзове, рутери и мрежови устройства (например CCTV камери) трябва да имат статичен адрес, за да се гарантира стабилна комуникация и конфигурация.

3. **Минимизиране на конфликти и грешки**: В мрежи с критично значение, статичните адреси гарантират предсказуемост и елиминират потенциални проблеми, свързани с промяна на адресите.

4. **Управление и мониторинг**: Статичните IP адреси улесняват мрежовите администратори при диагностициране на проблеми, управление на мрежови ресурси и настройка на защитни стени или VPN.

Използването на статични адреси осигурява стабилност и контрол в среда, където динамичното разпределение на адреси (чрез DHCP) може да бъде неподходящо.
