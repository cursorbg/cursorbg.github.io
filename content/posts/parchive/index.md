+++
date = '2024-11-12T16:12:45+02:00'
draft = false
hidden = false
title = 'Спасете данните си с тази програма!'
tags = ['parchive','par2','MultiPar']
summary = '**Parchive (Par или Parity Archive)** е файлов формат за възстановяване на данни, използван за поправка на повредени или липсващи файлове.'
+++
<span>{{< youtube cwabswSkB9g >}}</span>

**Parchive (Par или Parity Archive)** е файлов формат за възстановяване на данни, използван за поправка на повредени или липсващи файлове. Основната цел на Parchive е да предпазва данните от загуба при пренос или съхранение, като предоставя възможност за възстановяване чрез допълнителни *паритетни файлове* (.par, .par2). Този метод се основава на кодове за излишност и се използва за контрол на целостта на данните. Форматът е особено популярен сред потребителите на Usenet, където често се случва част от данните да липсват или да са повредени.

С помощта на Parchive данните могат да бъдат възстановени, дори ако част от оригиналните файлове липсват.

Ето обновен списък с програми за създаване и възстановяване чрез par2 файлове, включително WinRAR:

1. **MultiPar** — мощна и популярна програма за Windows за създаване и възстановяване на par2 файлове. MultiPar предлага удобен интерфейс и е подходяща както за начинаещи, така и за напреднали потребители. Тя поддържа различни настройки за персонализиране на количеството паритетни данни, което осигурява по-голяма гъвкавост при възстановяването на повредени файлове.

2. **QuickPar** — класическа програма за работа с par2 файлове на Windows. Лесна за използване и бърза, макар да не се актуализира активно, тя остава популярна сред потребителите на Usenet.

3. **par2cmdline** — инструмент с отворен код за работа с par2 файлове през командния ред, достъпен за Windows, macOS и Linux. Този инструмент е подходящ за напреднали потребители, които предпочитат работа в терминал.

4. **WinRAR** — популярна програма за компресиране и архивиране, която поддържа създаването на обикновени архиви с излишък (recovery records) за възстановяване на данни, макар че не поддържа директно par2 файлове. Recovery record функцията в WinRAR добавя излишни данни в RAR архивите, което позволява възстановяване при частична загуба на информация, като предлага подобна, но различна защита от тази при par2 файловете.

Тези инструменти предлагат различни подходи за възстановяване на данни, като MultiPar и par2cmdline са специализирани за работа с par2 файлове, а WinRAR използва собствени методи за защита и възстановяване на архиви.

Програмата върху която ще се съсредоточим е **MultiPar** *(фиг. 1)*, тъй като е все още се поддържа а и лесна за работа.

## Инсталация

Инсталация с *WinGet*

```powershell
winget install YutakaSawada.MultiPar -s winget
```

## Конфигуриране

[![](mp1.png "{{< icon "link" >}}*фиг. 1*")](mp1.png)

Преди да пристъпим към програмата е хубаво да разгледаме настройките ѝ, защото те ще ни улеснят в работата ни. В първата секция (Sytem settings) на *(фиг. 2)* е хубаво да направим следните настройки:
- Associate with PAR2 recovery files - асоциира PAR2 файловете с MultiPar.
- Integrate MultiPar into Shell - добавя MultiPar в контекстното меню за файлове и папки *(фиг. 3)*.
- Enable GPU acceleration - позволява използването на дискретна видеокарта (ако има такава в компютъра) за по-бързи изчисления.

[![](mp2.png "{{< icon "link" >}}*фиг. 2*")](mp2.png)

[![](mp3.png "{{< icon "link" >}}*фиг. 3*")](mp3.png)

{{< callout >}}
Програмата предлага и много добра интеграция с инструмента за архивиране **7-zip**.
{{< /callout >}}

В следващата секция (Client behavior) ще изберем формат на файловете за възстановяване. Той трябва да бъде PAR 2.0 *(фиг. 4)*.

[![](mp4.png "{{< icon "link" >}}*фиг. 4*")](mp4.png)

В последната секция (Automated tasks) има още две удобни настройки *(фиг. 5)*:
- Delete damaged files after Repair - след успешна поправка, развалените копия да се изтриват.
- Send files to Recycle Bin - когато програмата изтрива файлове, да ги изпраща в кошчето.

[![](mp5.png "{{< icon "link" >}}*фиг. 5*")](mp5.png)

## Създаване на файлове за възстановяване

За да можем да създадем файлове за възстановяване, първо трябва да добавим файлове и/или папки по избор. Това може да стане по няколко начина:
- чрез десен бутон върху файловете в *File Explorer* *(фиг. 3)*;
- чрез "влачене" от *File Explorer* в прозореца на програмата *(фиг. 6)*;
- или от самата програма чрез бутона *Add Files* *(фиг. 6)*;

Следващата стъпка е да настроим параметрите за генериране на файловете *(фиг. 6)*. Настройката може да се извърши само по един от четири възможни параметъра *(Block Count, Redundancy, Number of Recovery blocks и Number of Recovery files)*. Ако променим един от въпросните параметри, автоматично се преизчисляват останалите. В практиката се оказа удачно да се използва само параметъра за редундантност *(Redundancy)*, като целта е да постигнем ефективност *(Efficeny)* по-голяма от 90%. Едновременно с това следете за размера на *par2* файловете, който може да се окаже същия като началните. В този случай ще изгубите много пространство, което е неефективно.

[![](mp6.png "{{< icon "link" >}}*фиг. 6*")](mp6.png)

## Възстановяване

Процеса по проверка/възстановяване става чрез десен клавиш върху *par2* файл *(фиг. 7)* или просто двоен клик.

[![](mp7.png "{{< icon "link" >}}*фиг. 7*")](mp7.png)

След като се отвори програмата *(фиг. 8)*, проверката е вече извършена и можем да видим дали има нужда от възстановяване.

[![](mp8.png "{{< icon "link" >}}*фиг. 8*")](mp8.png)

Ако е необходимо възстановяване натискаме бутона поправка *(Repair)* и изчакваме процеса да завърши *(фиг. 9)*. Важно е да споменем, че процесът не винаги е успешен, все пак работим с вероятности.

[![](mp9.png "{{< icon "link" >}}*фиг. 9*")](mp9.png)

{{< callout >}}
**ВАЖНО!** След всяка редакция на файловете, които искаме да защитим, е необходимо да генерираме нови par2 файлове.
{{< /callout >}}
